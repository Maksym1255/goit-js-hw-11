{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '44595659-f233d14b1d86ebf700a2637af';\n\nexport function searchImj(query) {\n  const BASE_URL = `https://pixabay.com`;\n  const END_POINT = `/api/`;\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n  return fetch(url)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      }\n      return res.json('');\n    })\n    .then(data => {\n      return data.hits;\n    })\n    .catch(error => {\n      console.log(error);\n      throw error;\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function renderGallery(images) {\n  const gallery = document.getElementById(`gallery`);\n  gallery.innerHTML = '';\n\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"gallery-item\">\n\t<a class=\"gallery-link\" href=\"${largeImageURL}\">\n\t\t<img\n\t\t\tclass=\"gallery-image\"\n\t\t\tsrc=\"${webformatURL}\"\n\t\t\talt=\"${tags}\"\n\t\t\t/>\n\t</a>\n  <div class=\"details\">\n  <p class=\"info\">Likes: <br>${likes}</p>\n  <p class=\"info\">Views: <br>${views}</p>\n  <p class=\"info\">Comments: <br>${comments}</p>\n  <p class=\"info\">Downloads: <br>${downloads}</p>\n</div>\n</li>\n`\n    )\n    .join('');\n\n  gallery.innerHTML = markup;\n\n  const lightbox = new SimpleLightbox(`.gallery a`);\n  lightbox.refresh();\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { searchImj } from './js/pixabay-api.js';\nimport { renderGallery } from './js/render-functions.js';\n\nconst searchForm = document.getElementById(`search-form`);\nconst searchInput = document.getElementById(`search-input`);\nconst loader = document.getElementById(`loader`);\n\nsearchForm.addEventListener(`submit`, e => {\n  e.preventDefault();\n  const query = searchInput.value.trim();\n\n  if (query === '') {\n    iziToast.warning({\n      title: 'Warning!',\n      message: 'Please enter a search query',\n      position: 'center',\n    });\n    return;\n  } else {\n    showLoading();\n    searchImj(query)\n      .then(data => {\n        if (data.length === 0) {\n          iziToast.info({\n            title: 'No results',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'center',\n          });\n          return;\n        }\n        renderGallery(data);\n      })\n      .catch(error => {\n        console.error(error);\n      })\n      .finally(() => {\n        hideLoading();\n      });\n  }\n\n  searchForm.reset();\n});\n\nexport function showLoading() {\n  loader.classList.add(`loader`);\n}\n\nexport function hideLoading() {\n  loader.classList.remove(`loader`);\n}\n"],"names":["API_KEY","searchImj","query","BASE_URL","END_POINT","params","url","res","data","error","renderGallery","images","gallery","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","searchForm","searchInput","loader","e","iziToast","showLoading","hideLoading"],"mappings":"6vBAAA,MAAMA,EAAU,qCAET,SAASC,EAAUC,EAAO,CAC/B,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAKL,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAC7C,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,KAAK,EAAE,CACxB,CAAK,EACA,KAAKC,GACGA,EAAK,IACb,EACA,MAAMC,GAAS,CACd,cAAQ,IAAIA,CAAK,EACXA,CACZ,CAAK,CACL,CCxBO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAY,GAEpB,MAAMC,EAASF,EACZ,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,iCACyBL,CAAa;AAAA;AAAA;AAAA,UAGpCD,CAAY;AAAA,UACZE,CAAI;AAAA;AAAA;AAAA;AAAA,+BAIiBC,CAAK;AAAA,+BACLC,CAAK;AAAA,kCACFC,CAAQ;AAAA,mCACPC,CAAS;AAAA;AAAA;AAAA,CAIvC,EACA,KAAK,EAAE,EAEVR,EAAQ,UAAYC,EAEH,IAAIQ,EAAe,YAAY,EACvC,QAAO,CAClB,CCpCA,MAAMC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAS,SAAS,eAAe,QAAQ,EAE/CF,EAAW,iBAAiB,SAAUG,GAAK,CACzCA,EAAE,eAAc,EAChB,MAAMvB,EAAQqB,EAAY,MAAM,KAAI,EAEpC,GAAIrB,IAAU,GAAI,CAChBwB,EAAS,QAAQ,CACf,MAAO,WACP,QAAS,8BACT,SAAU,QAChB,CAAK,EACD,MACJ,MACIC,IACA1B,EAAUC,CAAK,EACZ,KAAKM,GAAQ,CACZ,GAAIA,EAAK,SAAW,EAAG,CACrBkB,EAAS,KAAK,CACZ,MAAO,aACP,QACE,2EACF,SAAU,QACtB,CAAW,EACD,MACD,CACDhB,EAAcF,CAAI,CAC1B,CAAO,EACA,MAAMC,GAAS,CACd,QAAQ,MAAMA,CAAK,CAC3B,CAAO,EACA,QAAQ,IAAM,CACbmB,GACR,CAAO,EAGLN,EAAW,MAAK,CAClB,CAAC,EAEM,SAASK,GAAc,CAC5BH,EAAO,UAAU,IAAI,QAAQ,CAC/B,CAEO,SAASI,GAAc,CAC5BJ,EAAO,UAAU,OAAO,QAAQ,CAClC"}